# MyISAM

MySQL5.5之前默认的存储引擎，由MYD和MYI组成。

+ MYD：存储的数据文件
+ MYI：存储的索引文件

正是由于数据文件与索引文件分开，所以MyISAM是非聚簇索引。

特性：

+ 并发性与表级锁
+ 支持全文检索
+ 支持数据压缩

适用场景：

+ 非事务型应用
+ 只读类应用
+ 空间类应用

# InnoDB

MySQL5.5及以后版本默认存储引擎。MySQL5.6以前默认为系统表空间

系统表空间与独立表空间：

+ 系统表空间无法简单的收缩文件大小
+ 独立表空间可以通过optimize table 收缩系统文件
+ 系统表空间会产生IO瓶颈
+ 独立表空间可以同时向多个文件刷新数据

特性：

+ Innodb是一种事务性存储引擎
+ 完全支持事务的ACID特性
+ Redo Log和Undo Log
+ 支持行级锁

# MyISAM与InnoDB对比

|  对比项  |           MyISAM           |          InnoDB          |
| :------: | :------------------------: | :----------------------: |
|  主外键  |           不支持           |           支持           |
|   事务   |           不支持           |           支持           |
|  行表锁  |            表锁            |           行锁           |
|   缓存   | 只缓存索引，不缓存真实数据 | 不仅缓存索引还要缓存数据 |
|  表空间  |             小             |            大            |
|  关注点  |            性能            |           事务           |
| 默认安装 |             Y              |            Y             |

```
表级锁：开销小，加锁快，不会出现死锁，锁定粒度大，发送锁冲突的概率最小，并发度最低
行级锁：开销大，加锁慢，会出现死锁，锁定粒度小，发送锁冲突的概率大，并发度高
```

表级锁更适合用于查询，行级锁