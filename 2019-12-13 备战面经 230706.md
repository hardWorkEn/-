# 备战面经

## 设计模式

+ 单例模式

  ```
  
  ```

  + 懒汉、恶汉、双重校验锁、静态内部类

  ```
  
  ```

+ 工厂模式

## JAVA基础

+ 抽象类和接口区别
+ 集合类的结构
  + Iterator、Collection（List、Set、Queue）、Map
+ ArrayList和LinketList的区别
+ List和Set区别
+ 重写equal为什么要重写hashcode
+ GET和POST区别
+ String的底层原理

##  HashMap

+ 底层结构
  + 数组+链表
+ Put的过程
+ 为什么长度是2的倍数
  + 找索引时key的hash值与数组的长度值减1进行运算，长度为2的倍数时能减少碰撞
+ JDK1.7和1.8中HashMap的区别
  + 1.8增加红黑树、头插变为尾插、扩容后元素位置要么在原位置，要么在原位置+扩容前旧容量
+ 为什么线程不安全
  + 扩容时链表可能形成闭环
+ ConcurrentHashMap怎么保证线程安全
+ ConcurrentHashMap和HashMap的区别
+ HashMap的原理，用红黑树解决了什么问题
+ hash冲撞怎么办？如何rehash
+ HashMap的遍历方式
+ volatile和synchronized的区别
+ Synchronized和Lock的区别
+ Lock底层实现
+ volatile怎么保证可见性
+ synchronized的原理
+ 自旋锁的好处
+ HashMap如何扩容，为什么长度是2的幂次
+ HashMap初始化默认长度，初始化长度为7会怎么样
+ HashMap在1.8有什么改进
+ HashMap什么时候转红黑树
+ 为什么8转红黑树，6退化为链表
+ HashMap为什么线程不安全
+ ConcurrentHashMap为什么线程安全
+ ConcurrentHashMap锁分段在1.8怎么实现
+ ThreadLocal的作用
+ HashMap和HashTable的区别

## 线程池

+ 线程池常用参数
  + 核心线程数，最大线程数，阻塞队列，线程最大存活时间
+ 线程池工作流程
+ 线程池的类别和区别
+ 阻塞队列的类别和区别

## JVM

+ 内存结构和各自存放的内容
  + 方法区、堆、虚拟机栈、本地方法栈、程序计数器
+ 新生代和老年代的垃圾回收算法
  + 新生代->复制、老年代->标记-整理（CMS用的标记-清除）
+ CMS/G1的流程
  + 初始标记->并发标记->重新标记->并发清除
+ CMS/G1的特点和区别
  + CMS：尽可能的减少停顿时间，采用标记-清除，会造成内存碎片化
  + G1：可以预测停顿时间，采用标记-整理，减少内存碎片化，将内存划分为region粒度
+ 判断垃圾是否可以回收的方法
  + 引用计数法、可达性分析算法
+ 哪些对象可以作为GCRoots
+ OOM可能是什么原因导致的
+ 并发控制可以用哪些方式实现
+ 线程池的大小该如何设置
+ 堆和栈的区别
+ 递归调用是在堆上还是栈上

## Spring

+ IOC和AOP的含义和原理
+ spring、springboot、springmvc的区别
+ 是springboot的启动流程
+ Bean的生命周期
+ Springmvc的流程
+ Springboot的优势

## MySQL

### 事务

+ 什么是事务
+ 事务的特性（ACID），详细说明各个特性的含义
  + 原子性、一致性、隔离性、持久性
+ 事务隔离级别
  + 未提交读、已提交读、可重复读、串行化
+ 脏读、不可重复读、幻读的区别
+ 事务隔离级别怎么实现预防上述问题
+ Innodb和Mysiam索引区别
+ left join,right join区别
+ 了解SQL注入吗
+ 从服务端如何防止SQL注入
+ 数据库如何加行级锁
+ 慢查询SQL怎么排查

### 索引

+ 常用索引（B树、Hash）
+ 聚簇索引和非聚簇索引的区别
+ 联合索引和单个索引的区别，联合索引的最左匹配原则
+ B树和B+树的区别
  + B+树的非叶子节点不保存数据，所以磁盘页能容纳更多节点元素，更“矮胖”
  + B+树查询必须查找到叶子节点，B树只要匹配到即可不用管元素位置，因此B+树查找更稳定
  + 对于范围查找来说，B+树只要遍历叶子节点链表即可，B树却要重复地中序遍历
+ B+数的原理和优势

## Redis

+ Redis的五种数据结构
  + String、Hash、List、Set、Zset
+ Redis为什么快
  + 内存，单线程，IO多路复用
+ Redis持久化
  + RDB、AOF
+ Redis高可用
  + 哨兵机制、Redis Cluster、持久化
+ zset的底层原理

## 计算机网络

+ 点击一个URL到页面返回，发生了什么
  + 客户端传给服务端时经过TCP/IP四层模型，中途依次加入HTTP报文、TCP报文、IP报文、MAC报文，然后逆序依次拆包
+ OSI七层模型&TCP/IP四层模型
+ cookie和session的区别
+ HTTP如何保持长连接

### TCP & UDP

+ TCP三次握手，四次挥手的流程（最好能画图，说明各阶段状态）
+ 为什么需要三次握手
  + 防止已过期的链接再次传到被连接的主机
+ 为什么需要四次挥手，断开连接时为什么比建立连接多一次
  + 服务端的ACK和FIN一般都会分开发送，ACK表示自己收到了客户端的断开请求（但还有数据没传输完），FIN表示自己传输完了数据
+ TCP 和UDP的区别
+ TIME_WAIT的作用
  + 保证客户端发送的最后一个ACK报文能够到达服务器
  + 防止类似与三次握手中提到了的已经失效的连接请求报文段出现在本连接中。客户端发送完最后一个确认报文后，在这个2MSL时间中，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失。

### HTTPS

+ HTTPS的优势
  + CA证书认证、加密传输
+ HTTPS建立数据流程
+ 为什么传输过程中采用对称加密，协商时采用非对称加密
  + 对称加密快
+ 

## 操作系统

### 进程 & 线程

+ 进程和线程的区别
+ 进程间通信方式
  + 管道、消息队列、信号量、共享内存
+ 线程间通信方式
  + 消息队列、全局变量

## Linux

+ 查找某个进程（ps aux |grep threadId）
+ 杀掉某个进程（kill,参数添加-9表示强制执行）
+ 查看某个端口是否被占用（netstat -anp|grep threadId）
+ 实时查看进程状态（top）

## 算法

+ 最大子序列
+ 反转链表
+ 数组中查找两数之和为k的序列对
+ 二分查找
+ 求二叉树中左叶子节点的总和
+ 从1亿个数找出前10
+ 

## 消息队列

+ rabbitmq和kafka的区别
+ rabbitmq如何保证事务
+ 消息队列的优势

## 分布式

+ 分布式缓存redis原理，zookeeper锁是如何实现的
+ 分布式缓存读写不一致的问题
+ 数据库调优
+ dubbo原理
+ 分布式缓存锁的实现
+ mysql分库分表原则





# 总结

+ 分布式必须了解，redis,dubbo,kafka
+ 数据库调优，组合

------

## 腾讯-医疗

### 一面

#### MySQL

+ 事务的特性
+ 如何删除表中的所有数据，delete和truncate的区别
+ char,varchar,text的区别
+ 一张表里数据量大，慢查询怎么办

#### Redis

+ redis的数据结构
+ zset的底层结构
+ redis的常用命令

#### 计算机网络

+ UDP如何重组数据
+ 应用层和网络层的作用
+ ARP是网络层的吗
+ TCP和UDP的报文头内容
+ HTTP
  + HTTP属于TCP还是UDP
  + HTTP1.1比1.0多了什么
  + HTTP Request Header中有哪些 内容
  + 如何判断是否是长连接
+ DNS属于TCP还是UDP，原理
+ Ping使用的什么协议，原理

